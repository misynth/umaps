<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>UTAU Mapa Global ‚Äì VSynthBR Tour</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      background: #f8f3ff;
      color: #222;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    .sidebar {
      width: 340px;
      background: #fefaf5;
      border-right: 4px solid #000;
      padding: 18px 16px 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      box-shadow: 8px 0 0 #000;
      z-index: 1000;
      animation: sidebar-pop 0.6s ease-out;
    }

    @keyframes sidebar-pop {
      from {
        transform: translateX(-15px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .sidebar-header {
      border: 3px solid #000;
      border-radius: 16px;
      padding: 10px 10px 8px;
      background: #fbe5ff;
      box-shadow: 5px 5px 0 #000;
      animation: header-float 5s ease-in-out infinite alternate;
    }

    @keyframes header-float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
      100% { transform: translateY(0); }
    }

    .sidebar h1 {
      font-size: 1.35rem;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 4px;
    }

    .sidebar small {
      font-size: 0.8rem;
      color: #555;
      line-height: 1.25;
    }

    .pill-row {
      margin-top: 6px;
    }

    .pill {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      border: 2px solid #000;
      background: #ffeef5;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      margin-right: 4px;
      margin-top: 4px;
      animation: pill-pop 0.5s ease-out;
    }

    @keyframes pill-pop {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .toolbar {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .toolbar-btn {
      flex: 1 1 140px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 3px solid #000;
      background: #ffeef5;
      font-size: 0.8rem;
      font-weight: 800;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 4px 4px 0 #000;
      transition: transform 0.1s, box-shadow 0.1s;
    }

    .toolbar-btn:hover {
      transform: translateY(-1px);
      box-shadow: 5px 5px 0 #000;
    }

    .toolbar-btn:active {
      transform: translate(1px, 1px);
      box-shadow: 2px 2px 0 #000;
    }

    .filter-card {
      border-radius: 16px;
      border: 3px solid #000;
      background: #fdf7ff;
      padding: 10px;
      box-shadow: 5px 5px 0 #000;
      animation: card-pop 0.4s ease-out;
    }

    @keyframes card-pop {
      from {
        transform: translateY(8px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .filter-group {
      margin-top: 4px;
    }

    .filter-group label {
      font-size: 0.8rem;
      display: block;
      margin-bottom: 4px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .filter-group select {
      width: 100%;
      padding: 6px 8px;
      border-radius: 10px;
      border: 2px solid #000;
      background: #fffdf7;
      font-size: 0.85rem;
      outline: none;
      transition: box-shadow 0.1s, transform 0.1s;
    }

    .filter-group select:focus {
      box-shadow: 3px 3px 0 #000;
      transform: translate(-1px, -1px);
    }

    .filter-group input {
      width: 100%;
      padding: 6px 8px;
      border-radius: 10px;
      border: 2px solid #000;
      background: #fffdf7;
      font-size: 0.85rem;
      outline: none;
      transition: box-shadow 0.1s, transform 0.1s;
    }

    .filter-group input:focus {
      box-shadow: 3px 3px 0 #000;
      transform: translate(-1px, -1px);
    }

    .status {
      font-size: 0.75rem;
      color: #444;
      margin-top: 6px;
      padding: 6px 8px;
      border-radius: 12px;
      border: 2px dashed #000;
      background: #fff8e6;
      box-shadow: 3px 3px 0 #000;
    }

    .counter {
      margin-top: 6px;
      font-size: 0.8rem;
      font-weight: 700;
      padding: 6px 8px;
      border-radius: 12px;
      border: 2px solid #000;
      background: #e8f7ff;
      box-shadow: 3px 3px 0 #000;
    }

    .counter span {
      display: inline-block;
      margin-right: 8px;
    }

    .utau-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 10px;
      padding-top: 6px;
      border-top: 2px dashed #c7bccf;
    }

    .utau-card {
      border: 3px solid #000;
      border-radius: 14px;
      padding: 8px 9px;
      margin-bottom: 8px;
      cursor: pointer;
      background: #ffeaf6;
      box-shadow: 5px 5px 0 #000;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
      animation: card-pop 0.35s ease-out;
    }

    .utau-card.br-voicebank {
      background: #fff4d9;
    }

    .utau-card:hover {
      transform: translate(-2px, -2px);
      box-shadow: 7px 7px 0 #000;
    }

    .utau-card h3 {
      font-size: 0.95rem;
      margin-bottom: 2px;
    }

    .utau-card span {
      font-size: 0.75rem;
      color: #333;
      font-weight: 600;
    }

    .utau-card small {
      font-size: 0.7rem;
      color: #555;
      display: block;
      margin-top: 3px;
      line-height: 1.25;
    }

    .utau-card.highlight {
      outline: 3px solid #000;
      transform: translate(-3px, -3px);
    }

    #map {
      flex: 1;
      height: 100vh;
      width: 100%;
      border-left: 4px solid #000;
      box-shadow: -8px 0 0 #000 inset;
      animation: map-fade 0.6s ease-out;
    }

    @keyframes map-fade {
      from { opacity: 0; transform: scale(1.01); }
      to { opacity: 1; transform: scale(1); }
    }

    .popup-card {
      max-width: 260px;
      font-size: 0.8rem;
      background: #fffafc;
    }

    .popup-card h3 {
      margin-bottom: 4px;
      font-size: 0.95rem;
    }

    .popup-meta {
      font-size: 0.7rem;
      color: #555;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .popup-culture {
      margin: 4px 0 6px;
      line-height: 1.3;
    }

    .popup-card a {
      font-size: 0.75rem;
      font-weight: 700;
      text-decoration: none;
      border: 2px solid #000;
      border-radius: 999px;
      padding: 4px 8px;
      display: inline-block;
      background: #f5ddff;
      color: #1f1333;
      box-shadow: 3px 3px 0 #000;
      transition: transform 0.1s, box-shadow 0.1s;
    }

    .popup-card a:hover {
      transform: translate(-1px, -1px);
      box-shadow: 4px 4px 0 #000;
    }

    .popup-card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 6px;
      border: 3px solid #000;
      box-shadow: 4px 4px 0 #000;
      display: block;
      animation: card-pop 0.3s ease-out;
    }

    .tour-line {
      stroke-dasharray: 6 6;
      animation: dash-move 3s linear infinite;
    }

    @keyframes dash-move {
      to { stroke-dashoffset: -24; }
    }

    body.theme-dark {
      background: #120f1c;
      color: #f5ecff;
    }

    body.theme-dark .sidebar {
      background: #1b1624;
      border-right-color: #f5ecff;
      box-shadow: 8px 0 0 #f5ecff;
    }

    body.theme-dark .sidebar-header {
      background: #2a2237;
      border-color: #f5ecff;
      box-shadow: 5px 5px 0 #f5ecff;
    }

    body.theme-dark .pill {
      background: #37294d;
      color: #f7ebff;
      border-color: #f5ecff;
    }

    body.theme-dark .toolbar-btn {
      background: #332143;
      border-color: #f5ecff;
      box-shadow: 4px 4px 0 #f5ecff;
      color: #f7ecff;
    }

    body.theme-dark .filter-card {
      background: #211a33;
      border-color: #f5ecff;
      box-shadow: 5px 5px 0 #f5ecff;
    }

    body.theme-dark .filter-group select {
      background: #1f182f;
      border-color: #f5ecff;
      color: #f7ecff;
    }

    body.theme-dark .filter-group input {
      background: #1f182f;
      border-color: #f5ecff;
      color: #f7ecff;
    }

    body.theme-dark .status {
      background: #2a2138;
      border-color: #f5ecff;
      color: #f5ecff;
      box-shadow: 3px 3px 0 #f5ecff;
    }

    body.theme-dark .counter {
      background: #1f273c;
      border-color: #f5ecff;
      color: #f5ecff;
      box-shadow: 3px 3px 0 #f5ecff;
    }

    body.theme-dark .utau-list {
      border-top-color: #5b4a73;
    }

    body.theme-dark .utau-card {
      background: #332143;
      border-color: #f5ecff;
      color: #f5ecff;
      box-shadow: 5px 5px 0 #f5ecff;
    }

    body.theme-dark .utau-card.br-voicebank {
      background: #3b2a30;
    }

    body.theme-dark .utau-card span,
    body.theme-dark .utau-card small {
      color: #f3e6ff;
    }

    body.theme-dark .utau-card.highlight {
      outline-color: #f5ecff;
    }

    body.theme-dark #map {
      border-left: 4px solid #f5ecff;
      box-shadow: -8px 0 0 #f5ecff inset;
    }

    body.theme-dark .popup-card {
      background: #241a33;
      color: #fbefff;
    }

    body.theme-dark .popup-meta {
      color: #d1c1ff;
    }

    body.theme-dark .popup-card a {
      background: #3b294f;
      border-color: #f5ecff;
      color: #fbefff;
      box-shadow: 3px 3px 0 #f5ecff;
    }

    body.theme-dark .popup-card img {
      border-color: #f5ecff;
      box-shadow: 4px 4px 0 #f5ecff;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        height: 310px;
        flex-shrink: 0;
        box-shadow: 0 6px 0 #000;
      }
      body.theme-dark .sidebar {
        box-shadow: 0 6px 0 #f5ecff;
      }
      #map {
        height: calc(100vh - 310px);
        border-left: none;
        box-shadow: 0 -6px 0 #000 inset;
      }
      body.theme-dark #map {
        box-shadow: 0 -6px 0 #f5ecff inset;
      }
    }
  </style>
</head>
<body class="theme-light">
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>O que os UTAUs do Brasil est√£o fazendo?</h1>
      <small>
        Bancos de voz da VSynthBR e outros personagens da Vocal Synth Wiki
        espalhados pelo mundo! Atualizado periodicamente.
      </small>
      <div class="pill-row">
        <span class="pill">Vocal Synth Brasil</span>
        <span class="pill">MiSC Labs</span>
        <span class="pill">Mans√£o UTAU Brasil</span>
      </div>
      <div class="toolbar">
        <button id="theme-toggle" class="toolbar-btn">Modo escuro</button>
        <button id="random-br" class="toolbar-btn">üé≤ Visitar UTAU aleat√≥rio üé≤</button>
      </div>
    </div>

    <div class="filter-card">
      <div class="filter-group">
        <label for="filter-region">Continente</label>
        <select id="filter-region">
          <option value="all">Todos os continentes</option>
          <option value="Asia">√Åsia</option>
          <option value="Europe">Europa</option>
          <option value="Americas">Am√©ricas</option>
          <option value="Oceania">Oceania</option>
          <option value="Africa">√Åfrica</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filter-type">Origem / tipo</label>
        <select id="filter-type">
          <option value="all">Todos</option>
          <option value="VSynthBR">VSynthBR ‚Äì Bancos de voz</option>
          <option value="Vocaloid">Vocaloid</option>
          <option value="SynthV">SynthV</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="search-utau">Buscar UTAU</label>
        <input id="search-utau" type="text" placeholder="Digite o nome ou parte do nome" />
      </div>

      <div class="status" id="status">
        Carregando frases do arquivo criptografado e database da VSynthBR
      </div>

      <div class="counter" id="counter">
        <span>BR: 0</span><span>Mundo: 0</span>
      </div>
    </div>

    <div class="utau-list" id="utau-list"></div>
  </aside>

  <div id="map"></div>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script>
    const API_BASE = "https://vsynthbr.fandom.com/pt-br/api.php";

    const embeddedPhrases = [
      { country: 'Brasil', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'Brasil', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Brasil', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Brasil', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'Brasil', text: 'fiz compras e achei coisas que nem sabia que precisava, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Brasil', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Brasil', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Brasil', text: 'descobri um lugar escondido que virou meu favorito e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Brasil', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Brasil', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Brasil', text: 'fiz compras e achei coisas que nem sabia que precisava e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'Brasil', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'Brasil', text: 'me enrosquei na minha pr√≥pria mochila enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Brasil', text: 'escorreguei numa casca de banana enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Brasil', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Jap√£o', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'Jap√£o', text: 'fiz compras e achei coisas que nem sabia que precisava e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Jap√£o', text: 'sentei em um parque e fiquei apreciando o clima, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: 'Jap√£o', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Jap√£o', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Jap√£o', text: 'quase derrubei meu lanche sem querer enquanto tomei um sorvete diferente enquanto observava a cidade.' },
      { country: 'Jap√£o', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas escorreguei numa casca de banana.' },
      { country: 'Jap√£o', text: 'quis parecer local e fiquei mais perdido ainda enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Jap√£o', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Jap√£o', text: 'descobri um lugar escondido que virou meu favorito, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Jap√£o', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Jap√£o', text: 'sentei em um parque e fiquei apreciando o clima, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Jap√£o', text: 'descobri um lugar escondido que virou meu favorito e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Jap√£o', text: 'me perdi propositalmente s√≥ pra explorar melhor e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Jap√£o', text: 'me perdi propositalmente s√≥ pra explorar melhor e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'Estados Unidos', text: 'me perdi propositalmente s√≥ pra explorar melhor e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Estados Unidos', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Estados Unidos', text: 'fiz compras e achei coisas que nem sabia que precisava e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Estados Unidos', text: 'descobri um lugar escondido que virou meu favorito, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Estados Unidos', text: 'me enrosquei na minha pr√≥pria mochila enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Estados Unidos', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Estados Unidos', text: 'descobri um lugar escondido que virou meu favorito e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Estados Unidos', text: 'escorreguei numa casca de banana enquanto tomei um sorvete diferente enquanto observava a cidade.' },
      { country: 'Estados Unidos', text: 'tomei um sorvete diferente enquanto observava a cidade e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Estados Unidos', text: 'passeei pelas ruas e conheci pessoas legais e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Estados Unidos', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Estados Unidos', text: 'quis parecer local e fiquei mais perdido ainda enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Estados Unidos', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Estados Unidos', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas escorreguei numa casca de banana.' },
      { country: 'Estados Unidos', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Fran√ßa', text: 'tomei um sorvete diferente enquanto observava a cidade e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Fran√ßa', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Fran√ßa', text: 'tentei imitar o sotaque e saiu tudo torto enquanto tomei um sorvete diferente enquanto observava a cidade.' },
      { country: 'Fran√ßa', text: 'me perdi propositalmente s√≥ pra explorar melhor e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Fran√ßa', text: 'quis parecer local e fiquei mais perdido ainda enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Fran√ßa', text: 'tentei imitar o sotaque e saiu tudo torto enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Fran√ßa', text: 'quis parecer local e fiquei mais perdido ainda enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Fran√ßa', text: 'escorreguei numa casca de banana enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Fran√ßa', text: 'descobri um lugar escondido que virou meu favorito e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Fran√ßa', text: 'descobri um lugar escondido que virou meu favorito, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Fran√ßa', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'Fran√ßa', text: 'fiz compras e achei coisas que nem sabia que precisava, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Fran√ßa', text: 'escorreguei numa casca de banana enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'Fran√ßa', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'Fran√ßa', text: 'tentei imitar o sotaque e saiu tudo torto enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'M√©xico', text: 'quis parecer local e fiquei mais perdido ainda enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'M√©xico', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'M√©xico', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e quase derrubei meu lanche sem querer no processo.' },
      { country: 'M√©xico', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'M√©xico', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'M√©xico', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'M√©xico', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'M√©xico', text: 'quis parecer local e fiquei mais perdido ainda enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'M√©xico', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'M√©xico', text: 'quase derrubei meu lanche sem querer enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'M√©xico', text: 'descobri um lugar escondido que virou meu favorito, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'M√©xico', text: 'passeei pelas ruas e conheci pessoas legais, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'M√©xico', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'M√©xico', text: 'tentei imitar o sotaque e saiu tudo torto enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'M√©xico', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'China', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e quase derrubei meu lanche sem querer no processo.' },
      { country: 'China', text: 'tentei imitar o sotaque e saiu tudo torto enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'China', text: 'tomei um sorvete diferente enquanto observava a cidade, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'China', text: 'tomei um sorvete diferente enquanto observava a cidade, mas escorreguei numa casca de banana.' },
      { country: 'China', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'China', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'China', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e escorreguei numa casca de banana no processo.' },
      { country: 'China', text: 'me perdi propositalmente s√≥ pra explorar melhor e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'China', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e quase derrubei meu lanche sem querer no processo.' },
      { country: 'China', text: 'descobri um lugar escondido que virou meu favorito, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'China', text: 'tentei imitar o sotaque e saiu tudo torto enquanto tomei um sorvete diferente enquanto observava a cidade.' },
      { country: 'China', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'China', text: 'engoli ar e engasguei como se fosse gourmet enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'China', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'China', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e quase derrubei meu lanche sem querer no processo.' },
      { country: 'Coreia do Sul', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Coreia do Sul', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas escorreguei numa casca de banana.' },
      { country: 'Coreia do Sul', text: 'engoli ar e engasguei como se fosse gourmet enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Coreia do Sul', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'Coreia do Sul', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Coreia do Sul', text: 'engoli ar e engasguei como se fosse gourmet enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Coreia do Sul', text: 'fiz compras e achei coisas que nem sabia que precisava, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'Coreia do Sul', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Coreia do Sul', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'Coreia do Sul', text: 'tentei imitar o sotaque e saiu tudo torto enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Coreia do Sul', text: 'descobri um lugar escondido que virou meu favorito e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Coreia do Sul', text: 'sentei em um parque e fiquei apreciando o clima e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Coreia do Sul', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Coreia do Sul', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Coreia do Sul', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Canad√°', text: 'sentei em um parque e fiquei apreciando o clima, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: 'Canad√°', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Canad√°', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Canad√°', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Canad√°', text: 'quis parecer local e fiquei mais perdido ainda enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'Canad√°', text: 'escorreguei numa casca de banana enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'Canad√°', text: 'tentei imitar o sotaque e saiu tudo torto enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Canad√°', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Canad√°', text: 'tomei um sorvete diferente enquanto observava a cidade e escorreguei numa casca de banana no processo.' },
      { country: 'Canad√°', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Canad√°', text: 'tomei um sorvete diferente enquanto observava a cidade e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Canad√°', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Canad√°', text: 'tentei imitar o sotaque e saiu tudo torto enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'Canad√°', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Canad√°', text: 'tomei um sorvete diferente enquanto observava a cidade, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'It√°lia', text: 'fiz compras e achei coisas que nem sabia que precisava e escorreguei numa casca de banana no processo.' },
      { country: 'It√°lia', text: 'me perdi propositalmente s√≥ pra explorar melhor e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'It√°lia', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'It√°lia', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'It√°lia', text: 'descobri um lugar escondido que virou meu favorito, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: 'It√°lia', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'It√°lia', text: 'engoli ar e engasguei como se fosse gourmet enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'It√°lia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'It√°lia', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'It√°lia', text: 'me perdi propositalmente s√≥ pra explorar melhor e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'It√°lia', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'It√°lia', text: 'tomei um sorvete diferente enquanto observava a cidade, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'It√°lia', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'It√°lia', text: 'escorreguei numa casca de banana enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'It√°lia', text: 'sentei em um parque e fiquei apreciando o clima e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Alemanha', text: 'sentei em um parque e fiquei apreciando o clima e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Alemanha', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Alemanha', text: 'fiz compras e achei coisas que nem sabia que precisava e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Alemanha', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Alemanha', text: 'sentei em um parque e fiquei apreciando o clima, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Alemanha', text: 'tomei um sorvete diferente enquanto observava a cidade e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Alemanha', text: 'escorreguei numa casca de banana enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'Alemanha', text: 'me enrosquei na minha pr√≥pria mochila enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Alemanha', text: 'sentei em um parque e fiquei apreciando o clima e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Alemanha', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e quase derrubei meu lanche sem querer no processo.' },
      { country: 'Alemanha', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Alemanha', text: 'tomei um sorvete diferente enquanto observava a cidade e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Alemanha', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas quase derrubei meu lanche sem querer.' },
      { country: 'Alemanha', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Alemanha', text: 'tomei um sorvete diferente enquanto observava a cidade e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Egito', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Egito', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Egito', text: 'descobri um lugar escondido que virou meu favorito, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Egito', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Egito', text: 'quis parecer local e fiquei mais perdido ainda enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Egito', text: 'me perdi propositalmente s√≥ pra explorar melhor e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Egito', text: 'tomei um sorvete diferente enquanto observava a cidade e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Egito', text: 'passeei pelas ruas e conheci pessoas legais, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Egito', text: 'quis parecer local e fiquei mais perdido ainda enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Egito', text: 'escorreguei numa casca de banana enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'Egito', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e quase derrubei meu lanche sem querer no processo.' },
      { country: 'Egito', text: 'quis parecer local e fiquei mais perdido ainda enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Egito', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Egito', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas quase derrubei meu lanche sem querer.' },
      { country: 'Egito', text: 'tomei um sorvete diferente enquanto observava a cidade e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: '√çndia', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: '√çndia', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: '√çndia', text: 'descobri um lugar escondido que virou meu favorito, mas quase derrubei meu lanche sem querer.' },
      { country: '√çndia', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: '√çndia', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: '√çndia', text: 'descobri um lugar escondido que virou meu favorito e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: '√çndia', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: '√çndia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: '√çndia', text: 'me enrosquei na minha pr√≥pria mochila enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: '√çndia', text: 'fiz compras e achei coisas que nem sabia que precisava, mas escorreguei numa casca de banana.' },
      { country: '√çndia', text: 'quase derrubei meu lanche sem querer enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: '√çndia', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas escorreguei numa casca de banana.' },
      { country: '√çndia', text: 'me enrosquei na minha pr√≥pria mochila enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: '√çndia', text: 'passeei pelas ruas e conheci pessoas legais, mas escorreguei numa casca de banana.' },
      { country: '√çndia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'Austr√°lia', text: 'fiz compras e achei coisas que nem sabia que precisava e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Austr√°lia', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Austr√°lia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e tropecei em nada e fingi que foi um passo de dan√ßa no processo.' },
      { country: 'Austr√°lia', text: 'passeei pelas ruas e conheci pessoas legais e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Austr√°lia', text: 'passeei pelas ruas e conheci pessoas legais, mas quase derrubei meu lanche sem querer.' },
      { country: 'Austr√°lia', text: 'fiz compras e achei coisas que nem sabia que precisava e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Austr√°lia', text: 'sentei em um parque e fiquei apreciando o clima e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Austr√°lia', text: 'passeei pelas ruas e conheci pessoas legais, mas escorreguei numa casca de banana.' },
      { country: 'Austr√°lia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e escorreguei numa casca de banana no processo.' },
      { country: 'Austr√°lia', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Austr√°lia', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e escorreguei numa casca de banana no processo.' },
      { country: 'Austr√°lia', text: 'me enrosquei na minha pr√≥pria mochila enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'Austr√°lia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas quase derrubei meu lanche sem querer.' },
      { country: 'Austr√°lia', text: 'sentei em um parque e fiquei apreciando o clima, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'Austr√°lia', text: 'tentei imitar o sotaque e saiu tudo torto enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Espanha', text: 'descobri um lugar escondido que virou meu favorito e me enrosquei na minha pr√≥pria mochila no processo.' },
      { country: 'Espanha', text: 'passeei pelas ruas e conheci pessoas legais e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Espanha', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Espanha', text: 'tentei imitar o sotaque e saiu tudo torto enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Espanha', text: 'descobri um lugar escondido que virou meu favorito e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Espanha', text: 'tomei um sorvete diferente enquanto observava a cidade e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Espanha', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Espanha', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'Espanha', text: 'passeei pelas ruas e conheci pessoas legais e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Espanha', text: 'escorreguei numa casca de banana enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Espanha', text: 'sentei em um parque e fiquei apreciando o clima e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Espanha', text: 'engoli ar e engasguei como se fosse gourmet enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Espanha', text: 'sentei em um parque e fiquei apreciando o clima e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Espanha', text: 'fiz compras e achei coisas que nem sabia que precisava e pisei na po√ßa achando que era raso e me dei mal no processo.' },
      { country: 'Espanha', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas quase derrubei meu lanche sem querer.' },
      { country: 'Reino Unido', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'Reino Unido', text: 'tomei um sorvete diferente enquanto observava a cidade, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Reino Unido', text: 'passeei pelas ruas e conheci pessoas legais e escorreguei numa casca de banana no processo.' },
      { country: 'Reino Unido', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Reino Unido', text: 'descobri um lugar escondido que virou meu favorito, mas escorreguei numa casca de banana.' },
      { country: 'Reino Unido', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Reino Unido', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Reino Unido', text: 'passeei pelas ruas e conheci pessoas legais, mas pisei na po√ßa achando que era raso e me dei mal.' },
      { country: 'Reino Unido', text: 'tomei um sorvete diferente enquanto observava a cidade, mas escorreguei numa casca de banana.' },
      { country: 'Reino Unido', text: 'fiz compras e achei coisas que nem sabia que precisava e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Reino Unido', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Reino Unido', text: 'tomei um sorvete diferente enquanto observava a cidade, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Reino Unido', text: 'passeei pelas ruas e conheci pessoas legais e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Reino Unido', text: 'quase derrubei meu lanche sem querer enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Reino Unido', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'R√∫ssia', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'R√∫ssia', text: 'tomei um sorvete diferente enquanto observava a cidade, mas quis parecer local e fiquei mais perdido ainda.' },
      { country: 'R√∫ssia', text: 'fiz compras e achei coisas que nem sabia que precisava, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'R√∫ssia', text: 'quis parecer local e fiquei mais perdido ainda enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'R√∫ssia', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'R√∫ssia', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas quase derrubei meu lanche sem querer.' },
      { country: 'R√∫ssia', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'R√∫ssia', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'R√∫ssia', text: 'engoli ar e engasguei como se fosse gourmet enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'R√∫ssia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas escorreguei numa casca de banana.' },
      { country: 'R√∫ssia', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'R√∫ssia', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'R√∫ssia', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'R√∫ssia', text: 'tomei um sorvete diferente enquanto observava a cidade, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'R√∫ssia', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Argentina', text: 'me perdi propositalmente s√≥ pra explorar melhor e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Argentina', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Argentina', text: 'descobri um lugar escondido que virou meu favorito, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Argentina', text: 'sentei em um parque e fiquei apreciando o clima e escorreguei numa casca de banana no processo.' },
      { country: 'Argentina', text: 'passeei pelas ruas e conheci pessoas legais e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Argentina', text: 'quis parecer local e fiquei mais perdido ainda enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' },
      { country: 'Argentina', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto descobri um lugar escondido que virou meu favorito.' },
      { country: 'Argentina', text: 'passeei pelas ruas e conheci pessoas legais e fui sorrir pra foto e quase ca√≠ de costas no processo.' },
      { country: 'Argentina', text: 'passeei pelas ruas e conheci pessoas legais, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Argentina', text: 'sentei em um parque e fiquei apreciando o clima e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Argentina', text: 'escorreguei numa casca de banana enquanto sentei em um parque e fiquei apreciando o clima.' },
      { country: 'Argentina', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Argentina', text: 'tomei um sorvete diferente enquanto observava a cidade e quase derrubei meu lanche sem querer no processo.' },
      { country: 'Argentina', text: 'tentei falar o idioma local e fui entendido‚Ä¶ quase, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Argentina', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Portugal', text: 'descobri um lugar escondido que virou meu favorito, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'Portugal', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Portugal', text: 'fiz compras e achei coisas que nem sabia que precisava, mas tentei imitar o sotaque e saiu tudo torto.' },
      { country: 'Portugal', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Portugal', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Portugal', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Portugal', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas me enrosquei na minha pr√≥pria mochila.' },
      { country: 'Portugal', text: 'experimentei comidas t√≠picas at√© n√£o aguentar mais, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Portugal', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Portugal', text: 'passeei pelas ruas e conheci pessoas legais e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Portugal', text: 'sentei em um parque e fiquei apreciando o clima, mas fui tirar foto e quase derrubei o ponto tur√≠stico.' },
      { country: 'Portugal', text: 'me perdi propositalmente s√≥ pra explorar melhor e engoli ar e engasguei como se fosse gourmet no processo.' },
      { country: 'Portugal', text: 'sentei em um parque e fiquei apreciando o clima e quis parecer local e fiquei mais perdido ainda no processo.' },
      { country: 'Portugal', text: 'me enrosquei na minha pr√≥pria mochila enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Portugal', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Chile', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Chile', text: 'escorreguei numa casca de banana enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Chile', text: 'tomei um sorvete diferente enquanto observava a cidade e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Chile', text: 'descobri um lugar escondido que virou meu favorito e tentei imitar o sotaque e saiu tudo torto no processo.' },
      { country: 'Chile', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas quase derrubei meu lanche sem querer.' },
      { country: 'Chile', text: 'descobri um lugar escondido que virou meu favorito e quase derrubei meu lanche sem querer no processo.' },
      { country: 'Chile', text: 'tropecei em nada e fingi que foi um passo de dan√ßa enquanto experimentei comidas t√≠picas at√© n√£o aguentar mais.' },
      { country: 'Chile', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'Chile', text: 'tentei imitar o sotaque e saiu tudo torto enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Chile', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Chile', text: 'sentei em um parque e fiquei apreciando o clima, mas quase derrubei meu lanche sem querer.' },
      { country: 'Chile', text: 'me enrosquei na minha pr√≥pria mochila enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Chile', text: 'passeei pelas ruas e conheci pessoas legais, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: 'Chile', text: 'descobri um lugar escondido que virou meu favorito e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Chile', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas fui sorrir pra foto e quase ca√≠ de costas.' },
      { country: 'Holanda', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'Holanda', text: 'engoli ar e engasguei como se fosse gourmet enquanto me perdi propositalmente s√≥ pra explorar melhor.' },
      { country: 'Holanda', text: 'passeei pelas ruas e conheci pessoas legais e fui tirar foto e quase derrubei o ponto tur√≠stico no processo.' },
      { country: 'Holanda', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Holanda', text: 'me enrosquei na minha pr√≥pria mochila enquanto tirei fotos aleat√≥rias que ficaram incr√≠veis.' },
      { country: 'Holanda', text: 'fui sorrir pra foto e quase ca√≠ de costas enquanto fiz compras e achei coisas que nem sabia que precisava.' },
      { country: 'Holanda', text: 'me perdi propositalmente s√≥ pra explorar melhor, mas quase derrubei meu lanche sem querer.' },
      { country: 'Holanda', text: 'quis parecer local e fiquei mais perdido ainda enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Holanda', text: 'entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Holanda', text: 'quase derrubei meu lanche sem querer enquanto entrei em lojinhas s√≥ pra olhar e sa√≠ com sacolas.' },
      { country: 'Holanda', text: 'sentei em um parque e fiquei apreciando o clima, mas engoli ar e engasguei como se fosse gourmet.' },
      { country: 'Holanda', text: 'engoli ar e engasguei como se fosse gourmet enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Holanda', text: 'pisei na po√ßa achando que era raso e me dei mal enquanto passeei pelas ruas e conheci pessoas legais.' },
      { country: 'Holanda', text: 'tirei fotos aleat√≥rias que ficaram incr√≠veis, mas tropecei em nada e fingi que foi um passo de dan√ßa.' },
      { country: 'Holanda', text: 'fui tirar foto e quase derrubei o ponto tur√≠stico enquanto tentei falar o idioma local e fui entendido‚Ä¶ quase.' }
    ];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    let phrasesFromFile = shuffle(embeddedPhrases.slice());
    let phrasesLoaded = phrasesFromFile.length > 0;
    let phraseIndex = 0;

    async function loadPhrasesFile() {
      try {
        const res = await fetch("phrases.json");
        if (!res.ok) throw new Error("Erro ao carregar phrases.json: " + res.status);
        const data = await res.json();
        if (Array.isArray(data) && data.length > 0) {
          phrasesFromFile = shuffle(data.slice());
          phrasesLoaded = true;
          phraseIndex = 0;
        } else {
          phrasesFromFile = shuffle(embeddedPhrases.slice());
          phrasesLoaded = phrasesFromFile.length > 0;
          phraseIndex = 0;
        }
      } catch (e) {
        phrasesFromFile = shuffle(embeddedPhrases.slice());
        phrasesLoaded = phrasesFromFile.length > 0;
        phraseIndex = 0;
      }
    }

    function pickRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function normalizeText(str) {
      return str
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "");
    }

    function getTimeOfDay(date) {
      const h = date.getHours();
      if (h >= 5 && h < 11) return "manha";
      if (h >= 11 && h < 17) return "tarde";
      if (h >= 17 && h < 23) return "noite";
      return "madrugada";
    }

    function isWeekend(date) {
      const d = date.getDay();
      return d === 0 || d === 6;
    }

    function getBrazilSeason(date) {
      const month = date.getMonth() + 1;
      const day = date.getDate();
      const md = month * 100 + day;

      if (md >= 321 && md <= 620) return "outono";
      if (md >= 621 && md <= 922) return "inverno";
      if (md >= 923 && md <= 1220) return "primavera";
      return "verao";
    }

    function getSeasonDescription(season) {
      switch (season) {
        case "verao":
          return "o calor intenso do ver√£o brasileiro";
        case "outono":
          return "o clima mais fresquinho do outono";
        case "inverno":
          return "o friozinho gostoso do inverno";
        case "primavera":
          return "as cores e flores da primavera";
        default:
          return "o clima do dia";
      }
    }

    function getTimePhrase(timeOfDay) {
      switch (timeOfDay) {
        case "manha":
          return "nesta manh√£";
        case "tarde":
          return "neste fim de tarde";
        case "noite":
          return "nesta noite iluminada";
        case "madrugada":
          return "nesta madrugada silenciosa";
        default:
          return "neste momento";
      }
    }

    function getDayPhrase(isWknd) {
      return isWknd
        ? "aproveitando o fim de semana para cantar e experimentar novas m√∫sicas."
        : "aproveitando um dia comum para ensaiar e testar novas configura√ß√µes.";
    }

    const actionsGeneric = [
      "gravando um cover colaborativo online com produtores de outros pa√≠ses",
      "experimentando automa√ß√µes de volume e efeitos bem exagerados",
      "fazendo testes de timbre para um novo voicebank secreto",
      "participando de uma call de mixagem com amigxs em um servidor de Discord",
      "ouvindo demos antigas e pensando em como atualizar os presets",
      "testando novas harmonias e layers vocais bem dram√°ticos",
      "refinando as configura√ß√µes da oto.ini para ficar tudo milimetricamente alinhado",
      "brincando com glitchs, stutters e cortes r√≠tmicos no √°udio",
      "renderizando takes infinitos para decidir qual soa mais natural",
      "reorganizando a biblioteca de bancos de voz e descobrindo gems esquecidos"
    ];

    const actionsBrazil = [
      "misturando ritmos brasileiros como funk, bossa nova e forr√≥ em um mashup insano",
      "ouvindo pagode, sertanejo e MPB enquanto ajusta par√¢metros de formante",
      "participando de um festival indie local com m√∫sicas cheias de sotaque brasileiro",
      "transformando cantigas populares em remixes eletr√¥nicos cheios de graves",
      "gravando samples inspirados em sons de feira, rua e √¥nibus lotado",
      "treinando pron√∫ncia perfeita de portugu√™s em consoantes dif√≠ceis",
      "gravando linhas de voz para um projeto colaborativo de UTAU BR",
      "experimentando com batidas de funk 150 BPM e synths espaciais"
    ];

    const actionsNight = [
      "preparando um live noturno para um servidor de Discord cheio de f√£s",
      "regravando partes dif√≠ceis em loop at√© soar perfeito no fone",
      "mixando no escuro, com o brilho da tela sendo a √∫nica ilumina√ß√£o do est√∫dio",
      "fazendo render noturno de v√°rias faixas para ouvir no dia seguinte",
      "testando reverbs longos e ecos que combinam com o sil√™ncio da noite"
    ];

    function getInteractionText(entry, date) {
      if (entry.phraseFromFile) {
        return entry.phraseFromFile;
      }

      const tod = getTimeOfDay(date);
      const wknd = isWeekend(date);
      const season = getBrazilSeason(date);

      const timePhrase = getTimePhrase(tod);
      const seasonPhrase = getSeasonDescription(season);
      const dayPhrase = getDayPhrase(wknd);

      const base =
        entry.baseCulture ||
        "interagindo com a cena vocal synth local e trocando presets com outras vozes.";

      let pool = actionsGeneric.slice();
      if (entry.country === "Brasil") {
        pool = pool.concat(actionsBrazil);
      }
      if (tod === "noite" || tod === "madrugada") {
        pool = pool.concat(actionsNight);
      }
      const action = pickRandom(pool);

      return `${entry.name} est√° ${base} ${timePhrase}, ${action}, enquanto sente ${seasonPhrase} e ${dayPhrase}`;
    }

    const brazilLocations = [
      { name: "S√£o Paulo", country: "Brasil", region: "Americas", coords: [-23.5505, -46.6333] },
      { name: "Rio de Janeiro", country: "Brasil", region: "Americas", coords: [-22.9068, -43.1729] },
      { name: "Belo Horizonte", country: "Brasil", region: "Americas", coords: [-19.9167, -43.9345] },
      { name: "Porto Alegre", country: "Brasil", region: "Americas", coords: [-30.0346, -51.2177] },
      { name: "Salvador", country: "Brasil", region: "Americas", coords: [-12.9777, -38.5016] },
      { name: "Recife", country: "Brasil", region: "Americas", coords: [-8.0476, -34.877] },
      { name: "Curitiba", country: "Brasil", region: "Americas", coords: [-25.4284, -49.2733] },
      { name: "Manaus", country: "Brasil", region: "Americas", coords: [-3.119, -60.0217] },
      { name: "Fortaleza", country: "Brasil", region: "Americas", coords: [-3.7319, -38.5267] },
      { name: "Vila Bela da Sant√≠ssima Trindade", country: "Brasil", region: "Americas", coords: [-15.0033, -59.9503] }
    ];

    const worldLocations = [
      { name: "Lisboa", country: "Portugal", region: "Europe", coords: [38.7223, -9.1393] },
      { name: "Buenos Aires", country: "Argentina", region: "Americas", coords: [-34.6037, -58.3816] },
      { name: "T√≥quio", country: "Jap√£o", region: "Asia", coords: [35.6895, 139.6917] },
      { name: "Berlim", country: "Alemanha", region: "Europe", coords: [52.52, 13.405] },
      { name: "Nova York", country: "EUA", region: "Americas", coords: [40.7128, -74.006] },
      { name: "Seul", country: "Coreia do Sul", region: "Asia", coords: [37.5665, 126.978] },
      { name: "Paris", country: "Fran√ßa", region: "Europe", coords: [48.8566, 2.3522] },
      { name: "Cidade do Cabo", country: "√Åfrica do Sul", region: "Africa", coords: [-33.9249, 18.4241] },
      { name: "Sydney", country: "Austr√°lia", region: "Oceania", coords: [-33.8688, 151.2093] },
      { name: "Toronto", country: "Canad√°", region: "Americas", coords: [43.6532, -79.3832] }
    ];

    const allLocations = brazilLocations.concat(worldLocations);

    function jitterCoords(coords) {
      let lat = coords[0] + (Math.random() - 0.5) * 4;
      let lng = coords[1] + (Math.random() - 0.5) * 4;
      if (lat > 80) lat = 80;
      if (lat < -80) lat = -80;
      if (lng > 180) lng -= 360;
      if (lng < -180) lng += 360;
      return [lat, lng];
    }

    function getRandomLocation() {
      const useBrazil = Math.random() < 0.5;
      const baseArr =
        useBrazil && brazilLocations.length ? brazilLocations : worldLocations;
      if (!baseArr.length) {
        const lat = Math.random() * 160 - 80;
        const lng = Math.random() * 360 - 180;
        return {
          name: "Lugar aleat√≥rio",
          country: "Mundo",
          region: "Americas",
          coords: [lat, lng]
        };
      }
      const loc = pickRandom(baseArr);
      return {
        name: loc.name,
        country: loc.country,
        region: loc.region,
        coords: jitterCoords(loc.coords)
      };
    }

    function assignPhraseAndLocation(entry) {
      if (entry.source === "VSynthBR" && phrasesLoaded && phrasesFromFile.length > 0) {
        if (phraseIndex < phrasesFromFile.length) {
          const chosen = phrasesFromFile[phraseIndex++];
          entry.phraseFromFile = chosen.text;

          const phraseNorm = normalizeText(chosen.text || "");
          const chosenCountry = chosen.country || null;

          let matchedLoc = null;
          for (const loc of allLocations) {
            const locNorm = normalizeText(loc.name);
            if (phraseNorm.includes(locNorm)) {
              matchedLoc = loc;
              break;
            }
          }

          if (matchedLoc) {
            entry.country = matchedLoc.country;
            entry.region = matchedLoc.region;
            entry.coords = jitterCoords(matchedLoc.coords);
          } else if (chosenCountry) {
            let possible = allLocations.filter(l => l.country === chosenCountry);
            if (possible.length === 0 && chosenCountry === "Brasil") {
              possible = brazilLocations.slice();
            }
            const loc = possible.length ? pickRandom(possible) : getRandomLocation();
            entry.country = loc.country;
            entry.region = loc.region;
            entry.coords = jitterCoords(loc.coords);
          } else {
            const loc = getRandomLocation();
            entry.country = loc.country;
            entry.region = loc.region;
            entry.coords = loc.coords;
          }
          return;
        }
      }

      const loc = getRandomLocation();
      entry.country = loc.country;
      entry.region = loc.region;
      entry.coords = loc.coords;
    }

    const utaus = [
      {
        id: "teto",
        name: "Kasane Teto",
        country: "Jap√£o",
        region: "Asia",
        type: "UTAU",
        source: "Manual",
        coords: [35.6895, 139.6917],
        baseCulture:
          "em T√≥quio, cantando J-pop em um karaok√™ e provando takoyaki depois do show.",
        wikiUrl: "https://vocal-synth.fandom.com/wiki/Kasane_Teto",
        imageUrl: ""
      },
      {
        id: "defoko",
        name: "Defoko (Uta Utane)",
        country: "Jap√£o",
        region: "Asia",
        type: "UTAU",
        source: "Manual",
        coords: [34.6937, 135.5023],
        baseCulture:
          "fazendo um live set minimalista em um festival de ver√£o japon√™s, cercada por lanternas de papel.",
        wikiUrl: "https://vocal-synth.fandom.com/wiki/Uta_Utane",
        imageUrl: ""
      },
      {
        id: "momo",
        name: "Momone Momo",
        country: "Jap√£o",
        region: "Asia",
        type: "UTAU",
        source: "Manual",
        coords: [43.0618, 141.3545],
        baseCulture:
          "em Hokkaido, saboreando sorvete de mel√£o e cantando m√∫sicas fofas em um caf√© tem√°tico.",
        wikiUrl: "https://vocal-synth.fandom.com/wiki/Momone_Momo",
        imageUrl: ""
      },
      {
        id: "br-uta-demo",
        name: "UTAU BR Gen√©rico",
        country: "Brasil",
        region: "Americas",
        type: "UTAU",
        source: "Manual",
        coords: [-23.5505, -46.6333],
        baseCulture:
          "participando de uma roda de samba e testando reclists em portugu√™s entre um pastel e outro na feira.",
        wikiUrl:
          "https://vsynthbr.fandom.com/pt-br/wiki/Categoria:Bancos_de_voz",
        imageUrl: ""
      },
      {
        id: "oliver",
        name: "Oliver",
        country: "Reino Unido",
        region: "Europe",
        type: "Vocaloid",
        source: "Manual",
        coords: [51.5074, -0.1278],
        baseCulture:
          "perto do Big Ben, cantando baladas em ingl√™s enquanto toma ch√° das cinco com visitantes de v√°rios pa√≠ses.",
        wikiUrl: "https://vocal-synth.fandom.com/wiki/OLIVER",
        imageUrl: ""
      },
      {
        id: "eleanor",
        name: "Eleanor Forte",
        country: "EUA",
        region: "Americas",
        type: "SynthV",
        source: "Manual",
        coords: [40.7128, -74.006],
        baseCulture:
          "em um rooftop de Nova York, misturando city pop com jazz em um show intimista.",
        wikiUrl: "https://vocal-synth.fandom.com/wiki/Eleanor_Forte",
        imageUrl: ""
      }
    ];

    const vsynthEntryByPageId = {};
    let countBrBanks = 0;
    let countWorldBanks = 0;

    const counterEl = document.getElementById("counter");
    const statusEl = document.getElementById("status");

    function updateCounter() {
      counterEl.innerHTML =
        `<span>No Brasil: ${countBrBanks}</span><span>No Exterior: ${countWorldBanks}</span>`;
    }

    const map = L.map("map", {
      minZoom: 2,
      maxZoom: 6,
      zoomAnimation: true
    }).setView([0, -20], 2.5);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const markerById = {};
    const tourLines = [];

    function getFlagEmoji(country) {
      switch (country) {
        case "Jap√£o": return "üáØüáµ";
        case "Brasil": return "üáßüá∑";
        case "Reino Unido": return "üá¨üáß";
        case "EUA": return "üá∫üá∏";
        case "Portugal": return "üáµüáπ";
        case "Argentina": return "üá¶üá∑";
        case "Alemanha": return "üá©üá™";
        case "Coreia do Sul": return "üá∞üá∑";
        case "Fran√ßa": return "üá´üá∑";
        case "√Åfrica do Sul": return "üáøüá¶";
        case "Austr√°lia": return "üá¶üá∫";
        case "Canad√°": return "üá®üá¶";
        default: return "üåç";
      }
    }

    function createPopupContent(entry) {
      const flagEmoji = getFlagEmoji(entry.country);
      const imgHtml = entry.imageUrl
        ? `<img src="${entry.imageUrl}" alt="${entry.name}" />`
        : "";

      const now = new Date();
      const dynamicText = getInteractionText(entry, now);

      const sourceLabel =
        entry.source === "VSynthBR"
          ? "VSynthBR ‚Äì Banco de voz"
          : entry.type || "Voicebank";

      return `
        <div class="popup-card">
          ${imgHtml}
          <h3>${entry.name}</h3>
          <div class="popup-meta">
            ${flagEmoji} ${entry.country} ¬∑ ${sourceLabel}
          </div>
          <div class="popup-culture">${dynamicText}</div>
          <a href="${entry.wikiUrl}" target="_blank" rel="noopener noreferrer">
            Ver na wiki
          </a>
        </div>
      `;
    }

    function addMarkerForEntry(entry) {
      if (!entry.coords || markerById[entry.id]) return;

      const isBR = entry.country === "Brasil" || entry.source === "VSynthBR";

      const marker = L.circleMarker(entry.coords, {
        radius: isBR ? 9 : 8,
        weight: 3,
        color: "#000",
        fillColor: isBR ? "#ffe69b" : "#ffb7e2",
        fillOpacity: 0.95
      });

      marker.addTo(map).bindPopup(createPopupContent(entry));
      markerById[entry.id] = marker;
    }

    utaus.forEach(addMarkerForEntry);

    const utauListEl = document.getElementById("utau-list");
    const filterRegionEl = document.getElementById("filter-region");
    const filterTypeEl = document.getElementById("filter-type");
    const searchInputEl = document.getElementById("search-utau");
    let searchTerm = "";

    function renderList() {
      const region = filterRegionEl.value;
      const type = filterTypeEl.value;
      const query = normalizeText(searchTerm);
      utauListEl.innerHTML = "";

      const now = new Date();

      utaus.forEach((entry) => {
        const matchesRegion = region === "all" || entry.region === region;
        let entryTypeForFilter =
          entry.source === "VSynthBR" ? "VSynthBR" : entry.type || "Outros";
        const matchesType = type === "all" || entryTypeForFilter === type;
        const nameNorm = normalizeText(entry.name || "");
        const matchesSearch = !query || nameNorm.includes(query);
        const visible = matchesRegion && matchesType && matchesSearch;

        const marker = markerById[entry.id];
        if (marker) {
          if (visible) marker.addTo(map);
          else map.removeLayer(marker);
        }
        if (!visible) return;

        const card = document.createElement("div");
        card.className =
          "utau-card" +
          (entry.source === "VSynthBR" ? " br-voicebank" : "");
        card.dataset.id = entry.id;

        const dynamicText = getInteractionText(entry, now);

        card.innerHTML = `
          <h3>${entry.name}</h3>
          <span>${entry.country} ¬∑ ${
          entry.source === "VSynthBR" ? "VSynthBR ‚Äì Banco de voz" : entry.type
        }</span>
          <small>${dynamicText}</small>
        `;

        card.addEventListener("click", () => {
          const m = markerById[entry.id];
          if (m) {
            map.setView(entry.coords, 4, { animate: true });
            m.openPopup();
          }
        });

        utauListEl.appendChild(card);
      });
    }

    filterRegionEl.addEventListener("change", renderList);
    filterTypeEl.addEventListener("change", renderList);

    searchInputEl.addEventListener("input", () => {
      searchTerm = searchInputEl.value;
      renderList();
    });

    searchInputEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const q = normalizeText(searchTerm);
        if (!q) return;
        const region = filterRegionEl.value;
        const type = filterTypeEl.value;

        const match = utaus.find((entry) => {
          const matchesRegion = region === "all" || entry.region === region;
          let entryTypeForFilter =
            entry.source === "VSynthBR" ? "VSynthBR" : entry.type || "Outros";
          const matchesType = type === "all" || entryTypeForFilter === type;
          const nameNorm = normalizeText(entry.name || "");
          const matchesSearch = nameNorm.includes(q);
          return matchesRegion && matchesType && matchesSearch;
        });

        if (match && match.coords) {
          const marker = markerById[match.id];
          if (marker) {
            map.setView(match.coords, 4, { animate: true });
            marker.openPopup();
          }
          const cards = utauListEl.querySelectorAll(".utau-card");
          cards.forEach((card) => {
            card.classList.toggle("highlight", card.dataset.id === match.id);
          });
        }
      }
    });

    const themeToggleBtn = document.getElementById("theme-toggle");

    function applyTheme(theme) {
      document.body.classList.remove("theme-light", "theme-dark");
      document.body.classList.add("theme-" + theme);
      localStorage.setItem("utauMapTheme", theme);
      themeToggleBtn.textContent =
        theme === "dark" ? "Modo claro" : "Modo escuro";
    }

    const savedTheme = localStorage.getItem("utauMapTheme") || "light";
    applyTheme(savedTheme);

    themeToggleBtn.addEventListener("click", () => {
      const currentDark = document.body.classList.contains("theme-dark");
      applyTheme(currentDark ? "light" : "dark");
    });

    const randomBrBtn = document.getElementById("random-br");

    randomBrBtn.addEventListener("click", () => {
      const brEntries = utaus.filter(
        (e) => e.source === "VSynthBR" && e.country === "Brasil"
      );
      const pool =
        brEntries.length > 0
          ? brEntries
          : utaus.filter((e) => e.source === "VSynthBR");
      if (!pool.length) return;

      const entry = pickRandom(pool);
      const marker = markerById[entry.id];
      if (marker) {
        map.setView(entry.coords, 4, { animate: true });
        marker.openPopup();
      }
    });

    async function fetchThumbnailsForPageIds(pageIds) {
      const chunkSize = 40;
      for (let i = 0; i < pageIds.length; i += chunkSize) {
        const chunk = pageIds.slice(i, i + chunkSize);
        const url =
          API_BASE +
          "?action=query&prop=pageimages" +
          "&pageids=" +
          chunk.join("|") +
          "&piprop=thumbnail&pithumbsize=260" +
          "&format=json&origin=*";

        try {
          const res = await fetch(url);
          if (!res.ok) continue;
          const data = await res.json();
          if (!data.query || !data.query.pages) continue;

          const pages = data.query.pages;
          Object.keys(pages).forEach((pid) => {
            const page = pages[pid];
            if (!page.thumbnail || !page.thumbnail.source) return;

            const entry = vsynthEntryByPageId[pid];
            if (!entry) return;

            entry.imageUrl = page.thumbnail.source;

            const marker = markerById[entry.id];
            if (marker && marker.getPopup()) {
              marker.getPopup().setContent(createPopupContent(entry));
            }
          });
        } catch (e) {
          console.error("Erro ao buscar thumbnails VSynthBR:", e);
        }
      }
    }

    async function loadBrazilVoicebanks(cmcontinue) {
      try {
        let url =
          API_BASE +
          "?action=query&list=categorymembers" +
          "&cmtitle=Categoria:Bancos_de_voz" +
          "&cmlimit=max&format=json&origin=*";

        if (cmcontinue) {
          url += "&cmcontinue=" + encodeURIComponent(cmcontinue);
        }

        const res = await fetch(url);
        if (!res.ok) throw new Error("Falha na API da VSynthBR");

        const data = await res.json();
        const pages = (data.query && data.query.categorymembers) || [];

        const newPageIds = [];

        pages.forEach((page) => {
          if (page.ns !== 0) return;

          const title = page.title;

          const entry = {
            id: "vsynthbr-" + page.pageid,
            _pageid: String(page.pageid),
            name: title,
            country: "Brasil",
            region: "Americas",
            type: "Voicebank",
            source: "VSynthBR",
            coords: null,
            baseCulture: "",
            wikiUrl:
              "https://vsynthbr.fandom.com/pt-br/wiki/" +
              encodeURIComponent(title.replace(/ /g, "_")),
            imageUrl: ""
          };

          assignPhraseAndLocation(entry);

          utaus.push(entry);
          vsynthEntryByPageId[entry._pageid] = entry;
          newPageIds.push(entry._pageid);
          addMarkerForEntry(entry);

          if (entry.country === "Brasil") {
            countBrBanks++;
          } else {
            countWorldBanks++;
            const brHome = pickRandom(brazilLocations);
            const line = L.polyline(
              [brHome.coords, entry.coords],
              {
                color: "#000",
                weight: 2,
                opacity: 0.45,
                className: "tour-line"
              }
            ).addTo(map);
            tourLines.push(line);
          }
        });

        updateCounter();

        if (newPageIds.length > 0) {
          await fetchThumbnailsForPageIds(newPageIds);
        }

        if (data.continue && data.continue.cmcontinue) {
          statusEl.textContent =
            "Carregando mais bancos de voz da VSynthBR...";
          await loadBrazilVoicebanks(data.continue.cmcontinue);
        } else {
          statusEl.textContent =
            "Bancos de voz da VSynthBR carregados: " +
            Object.keys(vsynthEntryByPageId).length +
            ".";
        }
      } catch (e) {
        console.error(e);
        statusEl.textContent =
          "N√£o foi poss√≠vel carregar automaticamente todos os bancos de voz da VSynthBR (CORS ou rede).";
      } finally {
        renderList();
      }
    }

    (async function init() {
      renderList();

      await loadPhrasesFile();
      if (phrasesLoaded) {
        statusEl.textContent =
          "Frases de phrases.json carregadas. Carregando VSynthBR...";
      } else {
        statusEl.textContent =
          "N√£o foi poss√≠vel carregar phrases.json. Usando texto din√¢mico padr√£o para VSynthBR.";
      }

      await loadBrazilVoicebanks();
    })();
  </script>
</body>
</html>